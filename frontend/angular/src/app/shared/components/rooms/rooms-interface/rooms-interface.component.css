/* ====== CONTENEDOR PRINCIPAL ====== */
.rooms-interface-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  position: relative;
  font-family: 'Poppins', sans-serif;
  background-color: #f8fafc;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.05);
  padding: 20px;
  overflow: hidden;
}

/* ====== CONTENEDOR DEL MAPA ====== */
.map-container {
  flex: 1;
  overflow: hidden;
  position: relative;
  background-color: #ffffff;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
  margin-bottom: 20px;
  transition: all 0.3s ease;
}

.map-container:hover {
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.08);
}

.map-container svg {
  width: 100%;
  height: auto;
  min-height: 500px;
  cursor: grab;
  transition: all 0.2s ease;
}

.map-container svg:active {
  cursor: grabbing;
}

/* ====== TÍTULO DEL MAPA ====== */
.map-title {
  font-size: 24px;
  font-weight: 600;
  fill: #334155;
  text-shadow: 0px 1px 2px rgba(0, 0, 0, 0.1);
}

.map-subtitle {
  font-size: 14px;
  fill: #64748b;
}

/* ====== REJILLA Y FONDO ====== */
.map-grid line {
  stroke: #f1f5f9;
  stroke-width: 1px;
}

.map-background {
  fill: #ffffff;
  stroke: #e2e8f0;
  stroke-width: 2px;
}

/* ====== ÁREAS EXTERIORES ====== */
.exterior-area {
  fill: #dcfce7;
  stroke: #86efac;
  stroke-width: 1px;
  transition: all 0.3s ease;
}

.exterior-area:hover {
  fill: #bbf7d0;
}

.garden-icon {
  font-size: 14px;
  fill: #22c55e;
  opacity: 0.8;
}

/* ====== PASILLO Y ESTRUCTURA ====== */
.corridor {
  fill: #f8fafc;
  stroke: #cbd5e1;
  stroke-width: 1.5px;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.03));
}

.wall {
  fill: #94a3b8;
  stroke: #64748b;
  stroke-width: 2px;
}

.door {
  fill: #e2e8f0;
  stroke: #94a3b8;
  stroke-width: 1px;
}

.staircase {
  fill: #cbd5e1;
  stroke: #94a3b8;
  stroke-width: 1px;
}

.entrance {
  fill: #bfdbfe;
  stroke: #3b82f6;
  stroke-width: 2px;
  filter: drop-shadow(0 1px 3px rgba(59, 130, 246, 0.3));
  transition: all 0.3s ease;
}

.entrance:hover {
  fill: #93c5fd;
  filter: drop-shadow(0 2px 4px rgba(59, 130, 246, 0.4));
}

.entrance-label {
  font-size: 12px;
  font-weight: 600;
  fill: #1e40af;
  pointer-events: none;
}

/* ====== POLÍGONOS Y ÁREAS ====== */
/* Estilo base para todos los polígonos */
.room-polygon {
  fill-opacity: 0.8;
  stroke-width: 1.5px;
  transition: all 0.3s ease;
  filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.1));
}

/* Estilos específicos por tipo de habitación con degradados */
polygon[id^="room"] {
  fill: url(#gradient-room);
  stroke: #fb923c;
}

polygon[id="commonRoom"] {
  fill: url(#gradient-common);
  stroke: #a855f7;
}

polygon[id="kitchen"] {
  fill: url(#gradient-kitchen);
  stroke: #0ea5e9;
}

polygon[id="dining"] {
  fill: url(#gradient-dining);
  stroke: #10b981;
}

polygon[id^="bath"] {
  fill: url(#gradient-bath);
  stroke: #0284c7;
}

polygon[id="laundry"] {
  fill: url(#gradient-laundry);
  stroke: #f59e0b;
}

/* Estados hover y activo para los polígonos */
.room-polygon:hover {
  fill-opacity: 0.9;
  stroke-width: 2.5px;
  cursor: pointer;
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.15)) brightness(1.05);
  transform: translateY(-1px);
  z-index: 5;
}

.room-polygon.active {
  fill-opacity: 1;
  stroke-width: 3px;
  filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2)) brightness(1.1);
  transform: translateY(-2px);
  z-index: 10;
}

/* Etiquetas de las salas */
.room-label {
  font-size: 11px;
  font-weight: 600;
  fill: #334155;
  pointer-events: none;
  text-shadow: 0px 0px 5px white, 0px 0px 5px white, 0px 0px 5px white;
  user-select: none;
}

/* ====== ICONOS DE FUNCIÓN ====== */
.room-icon {
  font-size: 12px;
  fill: #475569;
  pointer-events: none;
  opacity: 0.8;
}

/* ====== CONTROLES DEL MAPA ====== */
.map-controls {
  position: absolute;
  bottom: 24px;
  left: 24px;
  display: flex;
  gap: 8px;
  z-index: 100;
  backdrop-filter: blur(8px);
  background-color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.zoom-button, .reset-button {
  background-color: white;
  border: 1px solid #e2e8f0;
  border-radius: 6px;
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
  transition: all 0.2s ease;
  color: #475569;
}

.reset-button {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
  font-weight: 500;
}

.zoom-button:hover, .reset-button:hover {
  background-color: #f8fafc;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}

.zoom-button:active, .reset-button:active {
  transform: translateY(0px);
}

/* ====== LEYENDA DEL MAPA ====== */
.map-legend {
  position: absolute;
  bottom: 24px;
  right: 24px;
  background-color: rgba(255, 255, 255, 0.9);
  padding: 16px;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
  z-index: 100;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(226, 232, 240, 0.8);
  max-width: 220px;
}

.map-legend h4 {
  margin-top: 0;
  margin-bottom: 12px;
  font-size: 16px;
  color: #334155;
  font-weight: 600;
  border-bottom: 2px solid #f59e0b;
  padding-bottom: 6px;
}

.legend-item {
  display: flex;
  align-items: center;
  margin-bottom: 10px;
}

.legend-color {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  margin-right: 12px;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Colores específicos para la leyenda con degradados */
.legend-item.bedroom .legend-color {
  background: linear-gradient(135deg, #ffedd5, #fed7aa);
  border: 1px solid #fb923c;
}

.legend-item.common .legend-color {
  background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
  border: 1px solid #a855f7;
}

.legend-item.services .legend-color {
  background: linear-gradient(135deg, #e0f2fe, #bae6fd);
  border: 1px solid #0284c7;
}

.legend-hint {
  font-size: 12px;
  color: #64748b;
  margin-top: 12px;
  border-top: 1px solid #e2e8f0;
  padding-top: 8px;
}

.legend-hint p {
  margin: 0;
  line-height: 1.4;
}

/* ====== DEGRADADOS SVG ====== */
/* Estos gradientes tienen que ser definidos en el SVG */